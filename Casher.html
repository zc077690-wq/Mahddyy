<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ÙƒØ§Ø´ÙŠØ± Ù…Ø·Ø¹Ù… Ù„ÙŠØ§Ù„ÙŠ Ø§Ù„ÙØ±Ø§Øª</title>

<link href="https://fonts.googleapis.com/css2?family=Changa:wght@600&display=swap" rel="stylesheet">

<style>
body {
    margin: 0;
    font-family: 'Changa', sans-serif;
    background: #0a2a66;
    color: white;
    text-align: center;
}

.screen {
    display: none;
    padding: 20px;
}

.active {
    display: block;
}

h1 {
    font-size: 40px;
}

button {
    font-size: 26px;
    padding: 15px;
    margin: 10px;
    border-radius: 15px;
    border: none;
    cursor: pointer;
    color: black;
    font-weight: bold;
}

.rainbow {
    background: linear-gradient(270deg, red, orange, yellow, green, cyan, blue, violet);
    background-size: 600% 600%;
    animation: rainbow 3s ease infinite;
}

@keyframes rainbow {
    0% {background-position:0% 50%}
    50% {background-position:100% 50%}
    100% {background-position:0% 50%}
}

.big-btn {
    width: 90%;
}

.grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
}

input {
    width: 90%;
    padding: 12px;
    font-size: 22px;
    margin: 8px;
    border-radius: 10px;
    border: none;
}

table {
    width: 100%;
    font-size: 22px;
    border-collapse: collapse;
}

td, th {
    border: 1px solid white;
    padding: 5px;
}
</style>
</head>

<body>

<!-- Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
<div id="home" class="screen active">
    <h1>ÙƒØ§Ø´ÙŠØ± Ù…Ø·Ø¹Ù… Ù„ÙŠØ§Ù„ÙŠ Ø§Ù„ÙØ±Ø§Øª</h1>

    <button class="rainbow big-btn" onclick="goMenu()">Ø§Ù„ØªØ§Ù„ÙŠ</button>
    <button class="rainbow big-btn" onclick="openAdmin()">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</button>
</div>

<!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø£ØµÙ†Ø§Ù -->
<div id="menu" class="screen">
    <h1>Ø§Ø®ØªØ± Ø§Ù„Ø·Ù„Ø¨</h1>
    <div class="grid" id="items"></div>
    <button class="rainbow big-btn" onclick="goCheckout()">Ø§Ù„ØªØ§Ù„ÙŠ</button>
</div>

<!-- Ø´Ø§Ø´Ø© Ø§Ù„ØªÙØ§ØµÙŠÙ„ ÙˆØ§Ù„Ø·Ø¨Ø§Ø¹Ø© -->
<div id="checkout" class="screen">
    <h1>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨</h1>

    <div id="orderDetails"></div>

    <input id="customerName" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø²Ø¨ÙˆÙ†">
    <input id="customerPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø²Ø¨ÙˆÙ†">

    <h2 id="totalPrice"></h2>

    <button class="rainbow big-btn" onclick="printOrder()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©</button>
    <button class="rainbow big-btn" onclick="goHome()">Ø±Ø¬ÙˆØ¹</button>
</div>

<!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© -->
<div id="admin" class="screen">
    <h1>Ø³Ø¬Ù„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</h1>

    <table>
        <thead>
            <tr>
                <th>Ø§Ù„ØµÙ†Ù</th>
                <th>Ø§Ù„Ø¹Ø¯Ø¯</th>
                <th>Ø§Ù„Ø³Ø¹Ø±</th>
            </tr>
        </thead>
        <tbody id="adminTable"></tbody>
    </table>

    <h2 id="grandTotal"></h2>

    <button class="rainbow big-btn" onclick="clearHistory()">ğŸ—‘ï¸ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</button>
    <button class="rainbow big-btn" onclick="goHome()">Ø±Ø¬ÙˆØ¹</button>
</div>

<script>
// âœ… Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
const prices = {
    "Ø³Ù…Ùƒ Ù…Ø³ÙƒÙˆÙ": 15000,
    "ØµÙŠÙ†ÙŠÙ‡ Ù…Ù†Ø¯ÙŠ Ù„Ø­Ù…": 16000,
    "Ù†ÙØ± Ù…Ù†Ø¯ÙŠ Ù„Ø­Ù…": 8000,
    "Ø¯Ø¬Ø§Ø¬Ù‡ Ù…Ù†Ø¯ÙŠ": 20000,
    "ØµÙŠÙ†ÙŠÙ‡ Ù…Ù†Ø¯ÙŠ Ø¯Ø¬Ø§Ø¬": 10000,
    "Ù†ÙØ± Ù…Ù†Ø¯ÙŠ Ø¯Ø¬Ø§Ø¬": 5000,
    "ÙƒÙŠÙ„Ùˆ ÙƒØ¨Ø§Ø¨": 18000,
    "Ù†Øµ ÙƒÙŠÙ„Ùˆ ÙƒØ¨Ø§Ø¨": 9000,
    "Ù†ÙØ± ÙƒØ¨Ø§Ø¨": 5000,
    "Ù†Øµ Ù†ÙØ± ÙƒØ¨Ø§Ø¨": 3500,
    "Ù…Ø¹Ù„Ø§Ùƒ Ù†ÙØ±": 5000,
    "Ù…Ø¹Ù„Ø§Ùƒ Ù†Øµ Ù†ÙØ±": 3500
};

let order = {};
let history = [];

const itemsDiv = document.getElementById("items");

// Ø¥Ù†Ø´Ø§Ø¡ Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø£ØµÙ†Ø§Ù
Object.keys(prices).forEach(item => {
    const btn = document.createElement("button");
    btn.className = "rainbow";
    btn.innerText = item;
    btn.onclick = () => addItem(item);
    itemsDiv.appendChild(btn);
});

function show(id) {
    document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
    document.getElementById(id).classList.add("active");
}

function goMenu() { show("menu"); }
function goCheckout() { renderOrder(); show("checkout"); }
function goHome() { show("home"); }

// Ø²ÙŠØ§Ø¯Ø© Ø¹Ø¯Ø¯ Ø§Ù„ØµÙ†Ù Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ·
function addItem(item) {
    if (!order[item]) order[item] = 0;
    order[item]++;
    alert(item + " = " + order[item]);
}

// Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨
function renderOrder() {
    let html = "";
    let total = 0;

    for (let item in order) {
        let qty = order[item];
        let price = prices[item] * qty;
        total += price;
        html += `<p>${item} Ã— ${qty} = ${price} Ø¯.Ø¹</p>`;
    }

    document.getElementById("orderDetails").innerHTML = html || "Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø·Ù„Ø¨";
    document.getElementById("totalPrice").innerText = "Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: " + total + " Ø¯.Ø¹";
}

// Ø·Ø¨Ø§Ø¹Ø© ÙˆØ­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨
function printOrder() {
    if (Object.keys(order).length === 0) {
        alert("Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø·Ù„Ø¨ Ù„Ù„Ø·Ø¨Ø§Ø¹Ø©");
        return;
    }

    history.push({...order});
    window.print();
    order = {};
}

// ÙØªØ­ Ø´Ø§Ø´Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ù…Ø¹ Ø±Ù…Ø² Ø§Ù„Ø­Ù…Ø§ÙŠØ©
function openAdmin() {
    let pass = prompt("Ø§Ø¯Ø®Ù„ Ø§Ù„Ø±Ù…Ø²:");
    if (pass !== "098123") {
        alert("Ø±Ù…Ø² Ø®Ø·Ø£");
        return;
    }
    renderAdmin();
    show("admin");
}

// Ø¹Ø±Ø¶ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
function renderAdmin() {
    let table = "";
    let totalAll = 0;

    history.forEach(order => {
        for (let item in order) {
            let qty = order[item];
            let price = prices[item] * qty;
            totalAll += price;
            table += `<tr><td>${item}</td><td>${qty}</td><td>${price}</td></tr>`;
        }
    });

    document.getElementById("adminTable").innerHTML = table || "<tr><td colspan='3'>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª</td></tr>";
    document.getElementById("grandTotal").innerText = "Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ: " + totalAll + " Ø¯.Ø¹";
}

// ğŸ—‘ï¸ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
function clearHistory() {
    if (!confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§ØªØŸ")) return;
    history = [];
    renderAdmin();
    alert("ØªÙ… Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª âœ…");
}
</script>

</body>
</html>